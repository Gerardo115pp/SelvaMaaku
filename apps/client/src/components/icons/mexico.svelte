<script>

    
    /*=============================================
    =            Properties            =
    =============================================*/
    
        //* Style properties
        export let mexico_color = "var(--light-green-dark-hover)"; 
        export let mexico_opacity = 1;

        export let map_pin_color = "var(--light-orange)";
        export let map_pin_opacity = 1;

        
        /*----------  Animation properties  ----------*/

            /**
             * Whether to animate the component or not
             * @type {boolean}
             */
            export let animate = false;
        
            /** 
             * Animation duration in milliseconds
             * @type {number} 
             */
            export let animation_duration = 6000;

            /**
             * Animation delay in milliseconds
             * @type {number}
             * @default 0
             */
            export let animation_delay = 0;
            
        
    
    /*=====  End of Properties  ======*/
    
    

</script>


<svg viewBox="0 0 381 297" style:--pin-max-opacity={map_pin_opacity} class:animated-map={animate}>
    <path 
        class="mexico-map-icon" 
        d="m165.77,254.86c2.32,2.04,3.3.47,5.95,1.49,3.13,1.24,3.02,5.31,7.26,5.01,1.43-.09,3.21-1.42,4.58-1.1,1.62.41,1.62,2.18,2.9,3.02,1.76,1.19,4.58,1.08,6.42,2.18,1.64.99,3.12,2.21,5.14,2.57.86.16,1.78-.19,2.6.09,1.82.64,2.17,2.63,3.66,3.69,2.93,2.08,6.67,2.46,9.22,4.96,3.05,3.01,6,4.19,10.44,3.54,2.38-.36,2.94-.42,5.58-.03,2.96.42,6.96-.23,9.43-2.04,2.48-1.82,4.69-2.57,7.79-3.43,2.16-.61,5.23-.92,4.95-3.88-.09-1.1-2.23-4.01-.05-4.41.67,2.57,2.93,2.49,4.97,1.07,1.32,1.86-.34,3.63,2.37,4.12,2.79.5,2.57-1.42,5.33.92.75.63,1.64,1.92,2.51,3.01.31.52.61,1,.78,1.36.47,1,1.03,1.64,1.95,2.24,1.06.69,1.9,1.27,2.82,2.13,1.43,1.33,2.91,2.49,4.27,3.91.23.25.45.52.65.78,1.78,3.02,4.05,5.9,6.06,8.63.56.77,1.15,1.55,1.71,2.32.34-.48.68-.95,1-1.39l.44-3.15c0-.16.06-.3.12-.42l1.28-2.43-.97-3.57c-.09-.36-.03-.75.17-1.07l8.07-12.38c.23-.36.62-.56,1.04-.56l17.85-.49.48-3.08-1.56-1.57c-.11-.11-.2-.23-.25-.38l-1.36-2.9-6.31-4.76c-.14-.11-.26-.27-.36-.42l-2.21-4.12c-.22-.41-.2-.88.03-1.28.23-.39.65-.63,1.11-.63l4.83.05,1.23-8.85c.09-.64.73-1.14,1.31-1.11l24.45.61c.08-.11.12-.2.2-.28l2.66-2.4c.45-.39,1.11-.42,1.61-.08l1.11.78,3.83-3.8,1.74-3.84c.19-.42.59-.71,1.04-.75l3.91-.41c.06-.12.12-.24.22-.39.61-1.06,2.66-3.04,3.97-2.74.16,1.36-.84,2.29-.81,3.58.03,1.49,1.45,3.65,2.26,4.79-.54-2.8,2.94-7.69,4.47-9.88,1.03-1.49,4.89-4.16,3.77-6.45-.69-1.41-2.29-.19-3.26-1.13.7-1,1.65-1.02,2.59-1.61.93-.6,2.8-3.44,1.14-4.42-.93-.53-2.68,1.75-2.55-.55.11-1.75,2.77-1.96,3.93-2.58,1.84-1.03,1.26-2.35,1.56-4.31.25-1.75,1.15-2.96,1.89-4.54.9-1.94,1.17-4.18,2.37-5.98,1.4-2.08,3.33-2.8,5.23-4.31,2.29-1.82,3.77-5.37,1.61-7.88-.7-.8-2.09-1.74-3.07-2.32-1.45-.88-1.62-.52-2.76-.16-1.36.42-2.31.8-3.18,1.86-.64.77-.37,1.02-1.48,1.22-1.29.24-3.74-.67-4.88-1.21-2.87-1.35-5.13-4.46-8.44-2.94-1.74.8-2.21,1.25-4.24,1.52-2.24.28-4.35.55-6.62.69-4.47.27-10.07,1.82-13.66,4.67-3.69,2.93-4.41,8.31-5.77,12.54-.4,1.27-1.01,3.07-1.98,4.07-.87.91-2.51.86-3.33,1.66-1.01.94-1.53,3.41-1.93,4.7-.61,1.88-1.43,3.69-2.01,5.59-.62,2.07-1.06,3.74-2.87,5.17-1.03.81-2.13,1.16-3.36,1.49-.87.25-3.02.28-3.55.99-.98,1.25.61,3.01,1.01,3.88.47.96.97,4.51-.15,5.35-.44.31-2.54.17-3.07.22-1.17.11-3.35.56-4.27-.28-.93-.86-.73-3.24-.4-4.41-2.74-1.69-4.16-.58-7.09.28-1.85.55-5.51-.61-6.59.7-.48.58-.4,1.47-1.09,2.07-.75.66-1.62.6-2.62.66-1.85.08-3.44.25-4.67,1.54-.36.36-.76.88-1.18,1.44-.47.14-.92.28-1.32.41-2.54.85-4.97,1.02-7.59,1.61-4,.92-5.27,1.53-8.35-1.72-2.07-2.18-2.57-4.21-6-4.05-.36-1.63-.98-2.29-2.23-2.77-2.54-.99-3.86.66-5.79.81-3.05.25-2.46-3.68-3.02-5.87-.75-2.9-2.94-5.39-3.68-8.36-.45-1.72-.06-3.46-.34-5.17-.54-3.33-3.63-5.53-4.94-8.58-1.15-2.68-1.64-5.57-2.76-8.22-.83-1.97-2.1-2.46-3.44-4.09-1.25-1.5-1.25-2.93-1.31-4.79-.17-5.15-2.46-9.99-1.51-15.23.67-3.74,1.99-7.48,2.2-11.07.2,0,.4.05.61.02.67-2.9,1.12-6.37,2.17-9.22.7-1.86,1.89-3.3,2.29-5.32.34-1.75.54-3.43,1.06-5.15.97-3.15,2.84-5.93,3.9-9.03.9-2.63,1.34-5.4,2.79-7.84,1.43-2.39,4.69-4.59,6.34-7.09-.37.09-.73.16-1.04.16-2.04,0-3.05-1.77-3.66-2.83-.22-.38-.42-.77-.69-1.06-.39-.5-.76-.59-1.6-.8-.9-.22-2.03-.5-3.32-1.52-.67-.52-1.2-.44-2.27-.28-1.14.17-2.59.38-4.18-.64-2.38-1.53-6.03-3.15-7.65-3.4-2.15-.31-2.6-3.29-3.08-6.42-.22-1.41-.45-2.9-.79-3.74-.95-2.32-.51-4.15-.17-5.03l-2.03-7.76s-3.05-7.19-4.63-10.47c-1.07-2.21-1.04-2.8-.75-4.7.2-1.25.48-3.15.59-6.98.06-1.99-.05-2.94-.14-3.43-.08.05-.16.09-.22.13-.76.42-2.54,1.41-3.86-.25-1.74-2.18-2.57-4.1-2.52-5.9-.09-.22-.95-.7-1.29-.89-.4-.23-.76-.45-.98-.64h-3.26c-2.12,0-5.02,0-9.02-.19-2.63-.11-3.79.03-4.28.14.15.5.39,1.53-.53,2.25-.11.16-.44.99-.67,1.66-.87,2.29-2.15,5.73-5.22,8.19-3.75,3.02-5.45,1.96-7,.52-.33-.31-.64-.59-.96-.8-1.11-.63-1.87-1.25-2.59-1.88-.67-.56-1.37-1.14-2.4-1.78-2.17-1.36-5.44-4.09-8.6-12.16-1.65-4.21-1.67-5.79-.08-7.01.19-.16.28-.33.22-.86-.19-1.88.28-2.96.84-3.62-.73.06-1.59.17-2.26.28-.83.11-1.68.22-2.43.28-1.62.16-2.29-.52-2.57-1.1-.55-1.13.23-2.5,1.01-3.46l-1.46-4.68-6.37-4.87c-.2-.16-.36-.38-.45-.61l-.95-2.77-22.73-.22-2.31,6.54c-.19.52-.67.86-1.21.86l-39.63-.06c-.17,0-.34-.03-.5-.11L30.91,2.91c-.37-.17-.65-.5-.75-.89-.09-.39,0-.83.26-1.13l.75-.89L.36,3.93c-.03.2-.05.42-.03.67.06,1.75,1.2,3.13,1.28,4.99.05,1.06.03,1.91.28,2.91.19.78.56,1.44.5,2.25-2.62-.61-1.31,5.43-.83,6.78.41,1.11.83,2.33,1,3.51.09.59-.17,1.35.02,1.93.26.83,1.01,1.21,1.32,2,.67,1.8-.98,2.93-1.51,4.49-.84,2.54.51,2.44,1.71,4.12,1.45,2.02.08,3.21-.73,4.74-1.39,2.61,1.2,3.22,1.42,5.64.11,1.31-.65,1.22.47,2.14.26.22,1.18.55,2.04.78.05.19.08.39.14.56.58,1.69,1.31,1.53,2.7,2.3,2.71,1.47,2.77,5.01,5.11,6.79,1.67,1.27,3.32,1.44,3.89,3.52.39,1.39.33,3.4,0,4.74-.44,1.91-1.84,3.73-2.85,5.43-1.03,1.72-1.93,2.33-1.29,4.29.23.69,1.71,4.67-.36,4.1-.92-.25-2.17-3.69-2.43-4.46-1.71.77-1.46,2.04-3.66,1.57-2.06-.41-3.94-.97-6.12-.92-3.18.05-3.13,2.16-.37,3.8,2.54,1.52,4.99.8,5.03,4.07,0,.61-.48,1.8-.11,2.35.48.69,1.31.23,1.92.64,1.25.83,1.03,3.18,1.92,3.85,2.23,1.66,3.21-2.5,4.47,0,1.29,2.57-.83,4.04,2.99,3.71,1.11-.11,1.2.28,2.34-.64.89-.72,1.28-1.74,1.92-2.61,1.85-2.61,2.41.25,2.41,2.27.03,3.38,1.65,4.54,4.21,6.64,1.74,1.44,4.56,2.74,4.33,5.34-.08.88-.59,1.5-.5,2.44.16,1.44,1.25,2.71,1.54,4.18.69,3.29-2.31,4.57-3.24,7.31-.64,1.86-.41,3.76.28,5.49.42,1.05,1.15,5.32,2.06,5.84,2.21,1.25,1.7-1.43,2.87,1.5.87,2.15,2.73,3.24,4.63,4.31,1.7.97,2.91,2.24,4.33,3.58,1.28,1.21,3.12,2.32,4.11,3.76.7,1.02.75,2.24,1.32,3.32.83,1.55,2.21,1.79,3.33,2.9,1.71,1.74.87,5.21.31,7.26,5.38.05,9.19-2.71,8.99-8.47-.05-1.58-1.12-2.52-1.87-3.82-.86-1.49-1.22-3.19-2.01-4.71-.64-1.21-1.65-2.1-2.34-3.3-.45-.8-.55-2.11-1.03-2.79-1.93-2.74-2.96,1.74-2.65,3.55-2.01.89-2.27-.92-2.46-2.38-2.48-.75-3.58-.86-3.75-3.73-.14-2.35,1.42-1.77,2.45-3.35.65-.99.22-2.24.16-3.35-.03-.78.19-1.72-.08-2.47-.45-1.3-2.06-1.93-2.6-3.19-.69-1.63.69-2.35.76-3.84.05-.83-1-2.43-1.39-3.15-.69-1.35-1.67-2.91-1.82-4.45-.17-1.88,1.18-3.46,1.39-5.29.17-1.52,0-4.46-.42-6-.41-1.47-1.82-2.33-2.2-3.82-.2-.88-.19-1.64-.09-2.52-1.54-.03-1.65,4.95-1.81,6.11-1.56.08-.55-5.96-.95-7.17-.42-1.28-1.31-2.49-1.89-3.69-.64-1.33-.59-2.3-.81-3.77-.5-3.58-4.3-3.9-3.63-7.97.22-1.38,1.48-2.85,1.68-4.16.3-2.04-2.96-2.9-2.06-4.62-3.16-1.5-.78-4.77-3.57-5.67.89-1.89-1.42-1.46-1.93-2.5-.64-1.3.39-3.33-.28-4.87-.72-1.69-2.32-2.86-3.1-4.51-.37-.81-.5-1.88-1.03-2.58-.65-.85-1.78-1.03-2.48-1.78-1.2-1.28-1.57-3.43-1.74-5.15-.06-.69.09-1.89.08-2.97.78-1.08,1.37-2.25,1.67-3.68.2-1.02-.16-2.14,0-3.16.16-.97.67-1.88.79-2.86.26-1.89.12-3.82.45-5.7.47-2.71,2.76-3.99,3.99-6.26.25-.45.39-.88.47-1.28,1.11.31,2.07.89,2.82,1.91,1.78,2.4,2.76,3.21,6,1.61,2.15-1.06,3.02-2.46,4.63-.31.55.72.64,1.72,1.32,2.41,1.57,1.55,3.6.92,5.56,2.02,5.28,2.96-2.12,6.18-3.4,8.69-.19.05-.39-.03-.56.06-2.04,5.9,1.9,9.53,2.43,14.97.17,1.89.16,4.1,1.32,5.71.65.89,1.17.58,1.73,1.57.53.94.55,2.32.44,3.33-.23,2.24-.06,3.43.05,5.76.17,3.55,1.01,4.18,2.84,6.92.76,1.14.98,2.79,1.9,3.79,1.22,1.35,2.99.81,4.32,1.91,1.5,1.22.84,2.02,2.76,2.58,1.23.36,2.84-.27,3.91.75,2.54,2.46-3.68,5.28-2.1,8.75.9,2.02,4.64,2.58,5.73,4.26,1.11.34,2.2.28,2.66,1.33.48,1.08-.7,2.88-.92,3.88,1.81.34,4.69.28,5.9,1.93,1.12,1.47.34,4.38,1.12,6.2.78,1.79,1.7,1.46-.28,2.68-1.12.67-1.85.42-2.74,1.72-.86,1.27-3.12,6.68.33,5.82,1.03-.23,2.27-3.6,4-.94.98,1.52-1.84,3.02-3.05,3.79,1.07.25,3.99-.24,4.92.41.73.5.59,1.78,1.64,2.41,1.67,1.03,6.15,1.11,5.39,4.4-.41-.08-.98.16-1.39.06.45,2.5,1.45,5.64,3.44,7.31.9.75,2.6,1.05,2.98,2.41.23.88-.65,1.14-.51,2.08.17,1.13,1.48,2.52,2.38,3.07,3.26,2.05,5.59.56,6.53,4.52.33,1.41.84,2.6,1.47,3.85.83,1.66,1.78,3.05,2.41,4.76.37,1,.51,2.11,1.09,3.04.73,1.24,2.28,1.93,2.31,3.4.11.01.2,0,.31,0,.25.38.62.8,1.23,1.47.84.91,1.39,1.49,1.67,2.85.59,2.8.05,5.76.47,8.61.25,1.83,1.12,3.77,1.51,5.64.08.41.23,1.35.37,1.72.37.94.58.83,1.09,1.67,1.48,2.41,3.3,6.97.84,9.25-1.06,1.02-2.23,1.32-3.15,2.51-.59.75-2.23,2.83-1.75,3.84.61,1.3,3.35.14,2.54,2.58-.44,1.3-2.8,1.08-4.14,1.66-3.86,1.66-3.15,4.79-1,7.81,1.62,2.29,1.26,3.37,2.01,5.82,1.42,4.56,5.33,4.13,8.49,6.78.61.5,1.36,2.27,1.87,2.58,1.36.83,2.62-.52,4.16.86,1.48,1.33,1.32,3.29,2.13,4.88.69,1.38,1.48,1.54,2.57,2.69,1.71,1.88,2.13,3.24,4.43,4.71,1.09.71,3.26,3.04,4.61,2.96,1.11-.06,3.1-2.25,4.27-2.85.81.58,1.06,1.85,1.82,2.38,1.29.88,2.57,0,3.91-.05,1.89-.08,2.21.52,3.69,1.57.78.55,2.09.91,2.7,1.61.75.91.62,2.61,1.31,3.6.97,1.39,2.77,1.97,3.91,3.41,1.51,1.93,3.33,3.15,5.13,4.73l-.02-.06Z"
        style:fill={mexico_color}
        style:opacity={mexico_opacity}
    />
    <ellipse 
        class="map-pin"
        cx="115.96"
        cy="198.35"
        rx="17.67"
        ry="17.73"
        style:--map-pin-fill-color={map_pin_color}
    />
    <ellipse 
        class="map-pin-trace"
        cx="115.96"
        cy="198.35"
        rx="17.67"
        ry="17.73"
        style:--map-pin-fill-color={map_pin_color}
        style:animation-duration={`${animation_duration}ms`}
        style:animation-delay={`${animation_delay}ms`}
    />
    <ellipse 
        class="map-pin-trace"
        cx="115.96"
        cy="198.35"
        rx="17.67"
        ry="17.73"
        style:--map-pin-fill-color={map_pin_color}
        style:animation-duration={`${animation_duration}ms`}
        style:animation-delay={`${animation_delay * 1.5}ms`}
    />
    <ellipse 
        class="map-pin-trace"
        cx="115.96"
        cy="198.35"
        rx="17.67"
        ry="17.73"
        style:--map-pin-fill-color={map_pin_color}
        style:animation-duration={`${animation_duration}ms`}
        style:animation-delay={`${animation_delay * 1.5}ms`}
    />
</svg>

<style>
    .map-pin {
        fill: var(--map-pin-fill-color);
        opacity: var(--pin-max-opacity);
    }

    .map-pin-trace {
        display: none;
        fill: none;
        stroke: var(--map-pin-fill-color);
        stroke-width: 0.2;
        transform-box: fill-box;
        transform-origin: center;
        opacity: 0;
    }

    .animated-map .map-pin-trace {
        display: block;
        animation-name: map-pin-trace;
        animation-iteration-count: 1;
        animation-timing-function: ease-in-out;
    }

    @supports (color: rgb(from white r g b)) {
        .map-pin-trace {
            stroke: hsl(from var(--map-pin-fill-color) calc(h + 95) 40% l / 0.9);
            fill: hsl(from var(--map-pin-fill-color) h 90% 70% / 0.05);
        }
    }

    @keyframes map-pin-trace {
        0%, 34% {
            scale: 1;
            opacity: 0;
        } 33% {
            scale: 2.4;
            opacity: var(--pin-max-opacity);
        } 
    }
</style>